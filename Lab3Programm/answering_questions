2. compare(byte[] b1, int s1, int l1, byte[] b2, int s2, int l2)
Этот метод является оптимизированным "хуком" (optimization hook) и реализует интерфейс RawComparator.
Назначение: он позволяет сравнивать два ключа напрямую в их сериализованном (байтовом) представлении, не создавая Java-объекты.
Механизм:
Метод принимает два байтовых массива (b1, b2).
Он использует смещения (s1, s2 - start position) и длины (l1, l2 - length) для указания, где именно в массивах находятся сравниваемые ключи.
Вместо десериализации, он напрямую считывает байты и интерпретирует их как примитивные типы (например, использует статический метод readInt(byte[] b, int s)), а затем сравнивает эти примитивы.
Реализация по умолчанию: если вы не переопределяете этот метод в своем пользовательском компараторе, реализация по умолчанию сначала десериализует байтовые массивы в объекты WritableComparable, а затем вызывает первый метод compare(WritableComparable a, WritableComparable b)